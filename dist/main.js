(()=>{"use strict";function e(e){const t=document.createElement("img");return t.width=400,t.height=150,t.classList.add("specialImage"),t.src=`./images/${e}`,t.alt=`${e} picture was here.`,t}function t(e,t){const n=document.createElement("div");n.classList.add("paragraph");const i=document.createElement("p");i.classList.add("name"),i.textContent=`${e}`;const c=document.createElement("p");return c.classList.add("description"),c.textContent=`${t}`,n.appendChild(i),n.appendChild(c),n}function n(e){const t=document.createElement("img");return t.width=150,t.height=150,t.classList.add("image"),t.src=`./images/${e}`,t.alt=`${e} picture was here.`,t}function i(e,t,n){const i=document.createElement("div");i.classList.add("paragraph");const c=document.createElement("div");c.classList.add("nameAndPrice");const a=document.createElement("p");a.classList.add("name"),a.textContent=`${e}`;const s=document.createElement("p");s.classList.add("price"),s.textContent=`${t}`;const d=document.createElement("p");return d.classList.add("description"),d.textContent=`${n}`,i.appendChild(c),i.appendChild(d),c.appendChild(a),c.appendChild(s),i}const c=function(){const e=document.querySelector(".mainContent");return e.textContent="",e.appendChild(function(){const e=document.createElement("div");e.classList.add("icedCoffee");const t=document.createElement("div");t.classList.add("icedCoffeeItems");const c=[{name:"Iced-Americano",image:"iced-americano.png",description:"Iced with americano",price:"$12.50"},{name:"Iced-Cappuccino",image:"iced-cappuccino.png",description:"Iced with capuccino",price:"$10.50"},{name:"Iced-Espresso",image:"iced-espresso.png",description:"Iced with espresso",price:"$9.50"},{name:"Iced-Latte",image:"iced-latte.png",description:"Iced with latte",price:"$4.50"}];for(let e=0;e<c.length;e++){const a=document.createElement("div");a.classList.add("itemsList"),a.appendChild(n(c[e].image)),a.appendChild(i(c[e].name,c[e].price,c[e].description)),t.appendChild(a)}return e.appendChild(t),e}()),e};function a(e){const t=document.createElement("img");return t.width=150,t.height=150,t.classList.add("image"),t.src=`./images/${e}`,t.alt=`${e} picture was here.`,t}function s(e,t,n){const i=document.createElement("div");i.classList.add("paragraph");const c=document.createElement("div");c.classList.add("nameAndPrice");const a=document.createElement("p");a.classList.add("name"),a.textContent=`${e}`;const s=document.createElement("p");s.classList.add("price"),s.textContent=`${t}`;const d=document.createElement("p");return d.classList.add("description"),d.textContent=`${n}`,i.appendChild(c),i.appendChild(d),c.appendChild(a),c.appendChild(s),i}function d(e){const t=document.createElement("img");return t.width=150,t.height=150,t.classList.add("image"),t.src=`./images/${e}`,t.alt=`${e} picture was here.`,t}function o(e,t,n){const i=document.createElement("div");i.classList.add("paragraph");const c=document.createElement("div");c.classList.add("nameAndPrice");const a=document.createElement("p");a.classList.add("name"),a.textContent=`${e}`;const s=document.createElement("p");s.classList.add("price"),s.textContent=`${t}`;const d=document.createElement("p");return d.classList.add("description"),d.textContent=`${n}`,i.appendChild(c),i.appendChild(d),c.appendChild(a),c.appendChild(s),i}function r(e){document.querySelectorAll(".mainNavList").forEach((e=>{e!==this&&e.classList.remove("active")})),e.classList.add("active")}const p=function(){const e=document.querySelector(".main");e.textContent="",e.appendChild(function(){const e=document.createElement("div");e.classList.add("drinkMenu");const t=document.createElement("div");t.classList.add("mainNav");const n=document.createElement("button");n.classList.add("mainNavList"),n.textContent="Iced Coffee",n.addEventListener("click",(e=>{e.target.classList.contains(".mainNavList")||(r(n),c())}));const i=document.createElement("button");i.classList.add("mainNavList"),i.textContent="Hot Coffee",i.addEventListener("click",(e=>{e.target.classList.contains(".mainNavList")||(r(i),function(){const e=document.querySelector(".mainContent");e.textContent="",e.appendChild(function(){const e=document.createElement("div");e.classList.add("hotCoffee");const t=document.createElement("div");t.classList.add("hotCoffeeItems");const n=[{name:"Hot-Americano",image:"hot-americano.png",description:"Hot with americano",price:"$12.50"},{name:"Hot-Cappuccino",image:"hot-cappuccino.png",description:"Hot with capuccino",price:"$10.50"},{name:"Hot-Espresso",image:"hot-espresso.png",description:"Hot with espresso",price:"$9.50"},{name:"Hot-Latte",image:"hot-latte.png",description:"Hot with latte",price:"$4.50"}];for(let e=0;e<n.length;e++){const i=document.createElement("div");i.classList.add("itemsList"),i.appendChild(a(n[e].image)),i.appendChild(s(n[e].name,n[e].price,n[e].description)),t.appendChild(i)}return e.appendChild(t),e}())}())}));const p=document.createElement("button");p.classList.add("mainNavList"),p.textContent="Fruit Juice",p.addEventListener("click",(e=>{e.target.classList.contains(".mainNavList")||(r(p),function(){const e=document.querySelector(".mainContent");e.textContent="",e.appendChild(function(){const e=document.createElement("div");e.classList.add("fruitJuice");const t=document.createElement("div");t.classList.add("fruitJuiceItems");const n=[{name:"Strawberry Smoothie",image:"smoothie-1.png",description:"Very tasty strawberry smoothie.",price:"$12.50"},{name:"Redberry Smoothie",image:"smoothie-2.png",description:"Very tasty redberry smoothie",price:"$10.50"},{name:"Pinapple Smoothie",image:"smoothie-3.png",description:"Smoothie with pinapple flavour",price:"$9.50"},{name:"Spinach Smoothie",image:"smoothie-4.png",description:"Very healthy spinach juice.",price:"$4.50"}];for(let e=0;e<n.length;e++){const i=document.createElement("div");i.classList.add("itemsList"),i.appendChild(d(n[e].image)),i.appendChild(o(n[e].name,n[e].price,n[e].description)),t.appendChild(i)}return e.appendChild(t),e}())}())}));const m=document.createElement("div");return m.classList.add("mainContent"),e.appendChild(t),e.appendChild(m),t.appendChild(n),t.appendChild(i),t.appendChild(p),e}()),r(document.querySelector(".mainNavList")),c()};function m(){const n=document.createElement("div");return n.classList.add("header"),n.appendChild(function(){const n=document.createElement("div");n.classList.add("nav");const i=document.createElement("div");i.classList.add("navList");const c=document.createElement("button");c.classList.add("navHeader"),c.textContent="Maddys Cafe";const a=document.createElement("div");a.classList.add("navItems");const s=document.createElement("button");s.classList.add("navList"),s.textContent="Drink Menu",s.addEventListener("click",(e=>{e.target.classList.contains("active")||(l(s),p())}));const d=document.createElement("button");d.classList.add("navList"),d.textContent="About Us";const o=document.createElement("button");o.classList.add("navList"),o.textContent="Special Items",o.addEventListener("click",(n=>{n.target.classList.contains("active")||(l(o),function(){const n=document.querySelector(".main");n.textContent="",n.appendChild(function(){const n=document.createElement("div");n.classList.add("specialItem");const i=document.createElement("div");i.classList.add("specialList");const c=[{name:"Special One",image:"special-01.jpg",description:"Very tasty special items",price:"$12.50"},{name:"Special Two",image:"special-02.jpg",description:"Very tasty special items",price:"$10.50"},{name:"Special Three",image:"special-03.jpg",description:"Very tasty special items",price:"$9.50"},{name:"Special Four",image:"special-04.jpg",description:"Very tasty special items",price:"$4.50"},{name:"Special Five",image:"special-05.jpg",description:"Very tasty special items",price:"$4.50"},{name:"Special Six",image:"special-06.jpg",description:"Very tasty special items",price:"$4.50"}];for(let n=0;n<c.length;n++){const a=document.createElement("div");a.classList.add("itemsList"),a.appendChild(e(c[n].image)),a.appendChild(t(c[n].name,c[n].description)),i.appendChild(a)}return n.appendChild(i),n}())}())}));const r=document.createElement("button");return r.classList.add("navList"),r.textContent="Contact",n.appendChild(i),i.appendChild(c),i.appendChild(a),a.appendChild(s),a.appendChild(d),a.appendChild(o),a.appendChild(r),n}()),n.appendChild(function(){const e=document.createElement("div");return e.classList.add("main"),e}()),n}function l(e){document.querySelectorAll(".navList").forEach((e=>{e!==this&&e.classList.remove("active")})),e.classList.add("active")}!function(){const e=document.querySelector(".content");e.classList.add("content"),e.appendChild(m()),e.appendChild(function(){const e=document.createElement("div");return e.classList.add("footer"),e.textContent="This is footer.",e}()),l(document.querySelector(".navList")),p()}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVltQixHQUNyQmUsRUFBU2xDLFlBQVltQyxHQUNyQkQsRUFBU2xDLFlBQVlvQyxHQUNyQkYsRUFBU2xDLFlBQVlzQyxHQUVkUCxFQXJFZ0JRLElBQ25CVCxFQUFPOUIsWUFzRVgsV0FDSSxNQUFNa0IsRUFBT2pDLFNBQVNDLGNBQWMsT0FHeEMsT0FGSWdDLEVBQUs3QixVQUFVQyxJQUFJLFFBRWhCNEIsRUExRWdCc0IsSUFFWlYsRUEyRVgsU0FBUyxFQUFnQmpCLEdBQ0w1QixTQUFTNkIsaUJBQWlCLFlBRWxDQyxTQUFRRixJQUNYQSxJQUFXRyxNQUNaSCxFQUFPeEIsVUFBVTRCLE9BQU8sYUFHNUJKLEVBQU94QixVQUFVQyxJQUFJLFdBaUJ6QixXQUNJLE1BQU1tRCxFQUFVeEQsU0FBU29CLGNBQWMsWUFDdkNvQyxFQUFRcEQsVUFBVUMsSUFBSSxXQUV0Qm1ELEVBQVF6QyxZQUFZNkIsS0FDcEJZLEVBQVF6QyxZQW5CWixXQUNBLE1BQU0wQyxFQUFTekQsU0FBU0MsY0FBYyxPQUl0QyxPQUhBd0QsRUFBT3JELFVBQVVDLElBQUksVUFDckJvRCxFQUFPNUMsWUFBYyxrQkFFZDRDLEVBY2lCQyxJQUVwQixFQUFnQjFELFNBQVNvQixjQUFjLGFBQ3ZDLElDckhKLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYWRkeXNjYWZlLy4vc3JjL3NwZWNpYWxJdGVtLmpzIiwid2VicGFjazovL21hZGR5c2NhZmUvLi9zcmMvZHJpbmtNZW51L2ljZWRDb2ZmZS5qcyIsIndlYnBhY2s6Ly9tYWRkeXNjYWZlLy4vc3JjL2RyaW5rTWVudS9ob3RDb2ZmZS5qcyIsIndlYnBhY2s6Ly9tYWRkeXNjYWZlLy4vc3JjL2RyaW5rTWVudS9mcnVpdEp1aWNlLmpzIiwid2VicGFjazovL21hZGR5c2NhZmUvLi9zcmMvZHJpbmtNZW51LmpzIiwid2VicGFjazovL21hZGR5c2NhZmUvLi9zcmMvaW5pdGlhbFdlYnNpdGUuanMiLCJ3ZWJwYWNrOi8vbWFkZHlzY2FmZS8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBzcGVjaWFsSXRlbSgpe1xuICAgIGNvbnN0IHNwZWNpYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3BlY2lhbEl0ZW0uY2xhc3NMaXN0LmFkZCgnc3BlY2lhbEl0ZW0nKTtcblxuICAgIGNvbnN0IHNwZWNpYWxMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3BlY2lhbExpc3QuY2xhc3NMaXN0LmFkZCgnc3BlY2lhbExpc3QnKTtcblxuICAgIGNvbnN0IGl0ZW1zID0gW1xuICAgIHtuYW1lOidTcGVjaWFsIE9uZScsaW1hZ2U6J3NwZWNpYWwtMDEuanBnJyxkZXNjcmlwdGlvbjonVmVyeSB0YXN0eSBzcGVjaWFsIGl0ZW1zJyxwcmljZTonJDEyLjUwJ30sXG4gICAge25hbWU6J1NwZWNpYWwgVHdvJyxpbWFnZTonc3BlY2lhbC0wMi5qcGcnLGRlc2NyaXB0aW9uOidWZXJ5IHRhc3R5IHNwZWNpYWwgaXRlbXMnLHByaWNlOickMTAuNTAnfSxcbiAgICB7bmFtZTonU3BlY2lhbCBUaHJlZScsaW1hZ2U6J3NwZWNpYWwtMDMuanBnJyxkZXNjcmlwdGlvbjonVmVyeSB0YXN0eSBzcGVjaWFsIGl0ZW1zJyxwcmljZTonJDkuNTAnfSxcbiAgICB7bmFtZTonU3BlY2lhbCBGb3VyJyxpbWFnZTonc3BlY2lhbC0wNC5qcGcnLGRlc2NyaXB0aW9uOidWZXJ5IHRhc3R5IHNwZWNpYWwgaXRlbXMnLHByaWNlOickNC41MCd9LFxuICAgIHtuYW1lOidTcGVjaWFsIEZpdmUnLGltYWdlOidzcGVjaWFsLTA1LmpwZycsZGVzY3JpcHRpb246J1ZlcnkgdGFzdHkgc3BlY2lhbCBpdGVtcycscHJpY2U6JyQ0LjUwJ30sXG4gICAge25hbWU6J1NwZWNpYWwgU2l4JyxpbWFnZTonc3BlY2lhbC0wNi5qcGcnLGRlc2NyaXB0aW9uOidWZXJ5IHRhc3R5IHNwZWNpYWwgaXRlbXMnLHByaWNlOickNC41MCd9LFxuXTtcblxuZm9yIChsZXQgaT0wOyBpPGl0ZW1zLmxlbmd0aDsgaSsrKXtcbiAgICBjb25zdCBpdGVtc0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpdGVtc0xpc3QuY2xhc3NMaXN0LmFkZCgnaXRlbXNMaXN0Jyk7XG5cbiAgICAgICAgaXRlbXNMaXN0LmFwcGVuZENoaWxkKGNyZWF0ZUltYWdlKGl0ZW1zW2ldLmltYWdlKSk7XG4gICAgICAgIGl0ZW1zTGlzdC5hcHBlbmRDaGlsZChjcmVhdGVQYXJhZ3JhcGgoaXRlbXNbaV0ubmFtZSxpdGVtc1tpXS5kZXNjcmlwdGlvbikpO1xuXG4gICAgICAgIHNwZWNpYWxMaXN0LmFwcGVuZENoaWxkKGl0ZW1zTGlzdCk7XG4gICAgfVxuXG4gICAgc3BlY2lhbEl0ZW0uYXBwZW5kQ2hpbGQoc3BlY2lhbExpc3QpO1xuICAgIHJldHVybiBzcGVjaWFsSXRlbTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW1hZ2Uoc291cmNlKXtcbiAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGltYWdlLndpZHRoID0gNDAwO1xuICAgIGltYWdlLmhlaWdodCA9IDE1MDtcbiAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKCdzcGVjaWFsSW1hZ2UnKTtcbiAgICBpbWFnZS5zcmMgPSBgLi9pbWFnZXMvJHtzb3VyY2V9YDtcbiAgICBpbWFnZS5hbHQgPSBgJHtzb3VyY2V9IHBpY3R1cmUgd2FzIGhlcmUuYDtcblxuICAgIHJldHVybiBpbWFnZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFyYWdyYXBoKG5hbWUsZGVzY3JpcHRpb24pIHtcbiAgICBjb25zdCBwYXJhZ3JhcGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwYXJhZ3JhcGguY2xhc3NMaXN0LmFkZCgncGFyYWdyYXBoJyk7XG5cbiAgICBjb25zdCBpdGVtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBpdGVtTmFtZS5jbGFzc0xpc3QuYWRkKCduYW1lJyk7XG4gICAgaXRlbU5hbWUudGV4dENvbnRlbnQgPSBgJHtuYW1lfWA7XG5cbiAgICBjb25zdCBpdGVtRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgaXRlbURlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoJ2Rlc2NyaXB0aW9uJyk7XG4gICAgaXRlbURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gYCR7ZGVzY3JpcHRpb259YFxuXG4gICAgcGFyYWdyYXBoLmFwcGVuZENoaWxkKGl0ZW1OYW1lKTtcbiAgICBwYXJhZ3JhcGguYXBwZW5kQ2hpbGQoaXRlbURlc2NyaXB0aW9uKTtcblxuXG4gICAgcmV0dXJuIHBhcmFncmFwaDtcbn1cbmZ1bmN0aW9uIGxvYWRTcGVjaWFsSXRlbSgpe1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpO1xuICAgIG1haW4udGV4dENvbnRlbnQgPSAnJztcbiAgICBtYWluLmFwcGVuZENoaWxkKHNwZWNpYWxJdGVtKCkpO1xufVxuZXhwb3J0IGRlZmF1bHQgbG9hZFNwZWNpYWxJdGVtOyIsImZ1bmN0aW9uIGljZWRDb2ZmZWUoKXtcbiAgICBjb25zdCBpY2VkQ29mZmVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaWNlZENvZmZlZS5jbGFzc0xpc3QuYWRkKCdpY2VkQ29mZmVlJyk7XG5cbiAgICBjb25zdCBpY2VkQ29mZmVlSXRlbXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpY2VkQ29mZmVlSXRlbXMuY2xhc3NMaXN0LmFkZCgnaWNlZENvZmZlZUl0ZW1zJyk7XG5cbiAgICBjb25zdCBpdGVtcyA9IFt7bmFtZTonSWNlZC1BbWVyaWNhbm8nLGltYWdlOidpY2VkLWFtZXJpY2Fuby5wbmcnLGRlc2NyaXB0aW9uOidJY2VkIHdpdGggYW1lcmljYW5vJyxwcmljZTonJDEyLjUwJ30sXG4gICAge25hbWU6J0ljZWQtQ2FwcHVjY2lubycsaW1hZ2U6J2ljZWQtY2FwcHVjY2luby5wbmcnLGRlc2NyaXB0aW9uOidJY2VkIHdpdGggY2FwdWNjaW5vJyxwcmljZTonJDEwLjUwJ30sXG4gICAge25hbWU6J0ljZWQtRXNwcmVzc28nLGltYWdlOidpY2VkLWVzcHJlc3NvLnBuZycsZGVzY3JpcHRpb246J0ljZWQgd2l0aCBlc3ByZXNzbycscHJpY2U6JyQ5LjUwJ30sXG4gICAge25hbWU6J0ljZWQtTGF0dGUnLGltYWdlOidpY2VkLWxhdHRlLnBuZycsZGVzY3JpcHRpb246J0ljZWQgd2l0aCBsYXR0ZScscHJpY2U6JyQ0LjUwJ31dO1xuXG4gICAgZm9yIChsZXQgaT0wOyBpPGl0ZW1zLmxlbmd0aDsgaSsrKXtcbiAgICBjb25zdCBpdGVtc0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpdGVtc0xpc3QuY2xhc3NMaXN0LmFkZCgnaXRlbXNMaXN0Jyk7XG5cbiAgICAgICAgaXRlbXNMaXN0LmFwcGVuZENoaWxkKGNyZWF0ZUltYWdlKGl0ZW1zW2ldLmltYWdlKSk7XG4gICAgICAgIGl0ZW1zTGlzdC5hcHBlbmRDaGlsZChjcmVhdGVQYXJhZ3JhcGgoaXRlbXNbaV0ubmFtZSxpdGVtc1tpXS5wcmljZSxpdGVtc1tpXS5kZXNjcmlwdGlvbikpO1xuXG4gICAgICAgIGljZWRDb2ZmZWVJdGVtcy5hcHBlbmRDaGlsZChpdGVtc0xpc3QpO1xuICAgIH1cblxuICAgIGljZWRDb2ZmZWUuYXBwZW5kQ2hpbGQoaWNlZENvZmZlZUl0ZW1zKTtcblxucmV0dXJuIGljZWRDb2ZmZWU7XG59XG5mdW5jdGlvbiBjcmVhdGVJbWFnZShzb3VyY2Upe1xuICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1hZ2Uud2lkdGggPSAxNTA7XG4gICAgaW1hZ2UuaGVpZ2h0ID0gMTUwO1xuICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoJ2ltYWdlJyk7XG4gICAgaW1hZ2Uuc3JjID0gYC4vaW1hZ2VzLyR7c291cmNlfWA7XG4gICAgaW1hZ2UuYWx0ID0gYCR7c291cmNlfSBwaWN0dXJlIHdhcyBoZXJlLmA7XG5cbiAgICByZXR1cm4gaW1hZ2U7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcmFncmFwaChuYW1lLHByaWNlLGRlc2NyaXB0aW9uKSB7XG4gICAgY29uc3QgcGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcGFyYWdyYXBoLmNsYXNzTGlzdC5hZGQoJ3BhcmFncmFwaCcpO1xuXG4gICAgY29uc3QgbmFtZUFuZFByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBuYW1lQW5kUHJpY2UuY2xhc3NMaXN0LmFkZCgnbmFtZUFuZFByaWNlJyk7XG5cbiAgICAgICAgY29uc3QgaXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGl0ZW1OYW1lLmNsYXNzTGlzdC5hZGQoJ25hbWUnKTtcbiAgICAgICAgaXRlbU5hbWUudGV4dENvbnRlbnQgPSBgJHtuYW1lfWA7XG5cbiAgICAgICAgY29uc3QgaXRlbVByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBpdGVtUHJpY2UuY2xhc3NMaXN0LmFkZCgncHJpY2UnKTtcbiAgICAgICAgaXRlbVByaWNlLnRleHRDb250ZW50ID0gYCR7cHJpY2V9YDsgXG5cbiAgICBjb25zdCBpdGVtRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgaXRlbURlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoJ2Rlc2NyaXB0aW9uJyk7XG4gICAgaXRlbURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gYCR7ZGVzY3JpcHRpb259YFxuXG4gICAgcGFyYWdyYXBoLmFwcGVuZENoaWxkKG5hbWVBbmRQcmljZSk7XG4gICAgcGFyYWdyYXBoLmFwcGVuZENoaWxkKGl0ZW1EZXNjcmlwdGlvbik7XG5cbiAgICBuYW1lQW5kUHJpY2UuYXBwZW5kQ2hpbGQoaXRlbU5hbWUpO1xuICAgIG5hbWVBbmRQcmljZS5hcHBlbmRDaGlsZChpdGVtUHJpY2UpO1xuXG4gICAgcmV0dXJuIHBhcmFncmFwaDtcbn1cblxuZnVuY3Rpb24gbG9hZEljZWRDb2ZmZWUoKXtcbiAgICBjb25zdCBtYWluQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluQ29udGVudCcpO1xuICAgIG1haW5Db250ZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoaWNlZENvZmZlZSgpKTtcblxuICAgIHJldHVybiBtYWluQ29udGVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbG9hZEljZWRDb2ZmZWU7IiwiZnVuY3Rpb24gaG90Q29mZmVlKCl7XG4gICAgY29uc3QgaG90Q29mZmVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaG90Q29mZmVlLmNsYXNzTGlzdC5hZGQoJ2hvdENvZmZlZScpO1xuXG4gICAgY29uc3QgaG90Q29mZmVlSXRlbXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBob3RDb2ZmZWVJdGVtcy5jbGFzc0xpc3QuYWRkKCdob3RDb2ZmZWVJdGVtcycpO1xuXG4gICAgY29uc3QgaXRlbXMgPSBbe25hbWU6J0hvdC1BbWVyaWNhbm8nLGltYWdlOidob3QtYW1lcmljYW5vLnBuZycsZGVzY3JpcHRpb246J0hvdCB3aXRoIGFtZXJpY2FubycscHJpY2U6JyQxMi41MCd9LFxuICAgIHtuYW1lOidIb3QtQ2FwcHVjY2lubycsaW1hZ2U6J2hvdC1jYXBwdWNjaW5vLnBuZycsZGVzY3JpcHRpb246J0hvdCB3aXRoIGNhcHVjY2lubycscHJpY2U6JyQxMC41MCd9LFxuICAgIHtuYW1lOidIb3QtRXNwcmVzc28nLGltYWdlOidob3QtZXNwcmVzc28ucG5nJyxkZXNjcmlwdGlvbjonSG90IHdpdGggZXNwcmVzc28nLHByaWNlOickOS41MCd9LFxuICAgIHtuYW1lOidIb3QtTGF0dGUnLGltYWdlOidob3QtbGF0dGUucG5nJyxkZXNjcmlwdGlvbjonSG90IHdpdGggbGF0dGUnLHByaWNlOickNC41MCd9XTtcblxuICAgIGZvciAobGV0IGk9MDsgaTxpdGVtcy5sZW5ndGg7IGkrKyl7XG4gICAgY29uc3QgaXRlbXNMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaXRlbXNMaXN0LmNsYXNzTGlzdC5hZGQoJ2l0ZW1zTGlzdCcpO1xuXG4gICAgICAgIGl0ZW1zTGlzdC5hcHBlbmRDaGlsZChjcmVhdGVJbWFnZShpdGVtc1tpXS5pbWFnZSkpO1xuICAgICAgICBpdGVtc0xpc3QuYXBwZW5kQ2hpbGQoY3JlYXRlUGFyYWdyYXBoKGl0ZW1zW2ldLm5hbWUsaXRlbXNbaV0ucHJpY2UsaXRlbXNbaV0uZGVzY3JpcHRpb24pKTtcblxuICAgICAgICBob3RDb2ZmZWVJdGVtcy5hcHBlbmRDaGlsZChpdGVtc0xpc3QpO1xuICAgIH1cblxuICAgIGhvdENvZmZlZS5hcHBlbmRDaGlsZChob3RDb2ZmZWVJdGVtcyk7XG5cbnJldHVybiBob3RDb2ZmZWU7XG59XG5mdW5jdGlvbiBjcmVhdGVJbWFnZShzb3VyY2Upe1xuICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1hZ2Uud2lkdGggPSAxNTA7XG4gICAgaW1hZ2UuaGVpZ2h0ID0gMTUwO1xuICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoJ2ltYWdlJyk7XG4gICAgaW1hZ2Uuc3JjID0gYC4vaW1hZ2VzLyR7c291cmNlfWA7XG4gICAgaW1hZ2UuYWx0ID0gYCR7c291cmNlfSBwaWN0dXJlIHdhcyBoZXJlLmA7XG5cbiAgICByZXR1cm4gaW1hZ2U7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcmFncmFwaChuYW1lLHByaWNlLGRlc2NyaXB0aW9uKSB7XG4gICAgY29uc3QgcGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcGFyYWdyYXBoLmNsYXNzTGlzdC5hZGQoJ3BhcmFncmFwaCcpO1xuXG4gICAgY29uc3QgbmFtZUFuZFByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBuYW1lQW5kUHJpY2UuY2xhc3NMaXN0LmFkZCgnbmFtZUFuZFByaWNlJyk7XG5cbiAgICAgICAgY29uc3QgaXRlbU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGl0ZW1OYW1lLmNsYXNzTGlzdC5hZGQoJ25hbWUnKTtcbiAgICAgICAgaXRlbU5hbWUudGV4dENvbnRlbnQgPSBgJHtuYW1lfWA7XG5cbiAgICAgICAgY29uc3QgaXRlbVByaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBpdGVtUHJpY2UuY2xhc3NMaXN0LmFkZCgncHJpY2UnKTtcbiAgICAgICAgaXRlbVByaWNlLnRleHRDb250ZW50ID0gYCR7cHJpY2V9YDsgXG5cbiAgICBjb25zdCBpdGVtRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgaXRlbURlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoJ2Rlc2NyaXB0aW9uJyk7XG4gICAgaXRlbURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gYCR7ZGVzY3JpcHRpb259YFxuXG4gICAgcGFyYWdyYXBoLmFwcGVuZENoaWxkKG5hbWVBbmRQcmljZSk7XG4gICAgcGFyYWdyYXBoLmFwcGVuZENoaWxkKGl0ZW1EZXNjcmlwdGlvbik7XG5cbiAgICBuYW1lQW5kUHJpY2UuYXBwZW5kQ2hpbGQoaXRlbU5hbWUpO1xuICAgIG5hbWVBbmRQcmljZS5hcHBlbmRDaGlsZChpdGVtUHJpY2UpO1xuXG4gICAgcmV0dXJuIHBhcmFncmFwaDtcbn1cblxuZnVuY3Rpb24gbG9hZEhvdENvZmZlZSgpe1xuICAgIGNvbnN0IG1haW5Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5Db250ZW50Jyk7XG4gICAgbWFpbkNvbnRlbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChob3RDb2ZmZWUoKSk7XG5cbiAgICByZXR1cm4gbWFpbkNvbnRlbnQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGxvYWRIb3RDb2ZmZWU7IiwiZnVuY3Rpb24gZnJ1aXRKdWljZSgpe1xuICAgIGNvbnN0IGZydWl0SnVpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmcnVpdEp1aWNlLmNsYXNzTGlzdC5hZGQoJ2ZydWl0SnVpY2UnKTtcblxuICAgIGNvbnN0IGZydWl0SnVpY2VJdGVtcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGZydWl0SnVpY2VJdGVtcy5jbGFzc0xpc3QuYWRkKCdmcnVpdEp1aWNlSXRlbXMnKTtcblxuICAgIGNvbnN0IGl0ZW1zID0gW3tuYW1lOidTdHJhd2JlcnJ5IFNtb290aGllJyxpbWFnZTonc21vb3RoaWUtMS5wbmcnLGRlc2NyaXB0aW9uOidWZXJ5IHRhc3R5IHN0cmF3YmVycnkgc21vb3RoaWUuJyxwcmljZTonJDEyLjUwJ30sXG4gICAge25hbWU6J1JlZGJlcnJ5IFNtb290aGllJyxpbWFnZTonc21vb3RoaWUtMi5wbmcnLGRlc2NyaXB0aW9uOidWZXJ5IHRhc3R5IHJlZGJlcnJ5IHNtb290aGllJyxwcmljZTonJDEwLjUwJ30sXG4gICAge25hbWU6J1BpbmFwcGxlIFNtb290aGllJyxpbWFnZTonc21vb3RoaWUtMy5wbmcnLGRlc2NyaXB0aW9uOidTbW9vdGhpZSB3aXRoIHBpbmFwcGxlIGZsYXZvdXInLHByaWNlOickOS41MCd9LFxuICAgIHtuYW1lOidTcGluYWNoIFNtb290aGllJyxpbWFnZTonc21vb3RoaWUtNC5wbmcnLGRlc2NyaXB0aW9uOidWZXJ5IGhlYWx0aHkgc3BpbmFjaCBqdWljZS4nLHByaWNlOickNC41MCd9XTtcblxuICAgIGZvciAobGV0IGk9MDsgaTxpdGVtcy5sZW5ndGg7IGkrKyl7XG4gICAgY29uc3QgaXRlbXNMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaXRlbXNMaXN0LmNsYXNzTGlzdC5hZGQoJ2l0ZW1zTGlzdCcpO1xuXG4gICAgICAgIGl0ZW1zTGlzdC5hcHBlbmRDaGlsZChjcmVhdGVJbWFnZShpdGVtc1tpXS5pbWFnZSkpO1xuICAgICAgICBpdGVtc0xpc3QuYXBwZW5kQ2hpbGQoY3JlYXRlUGFyYWdyYXBoKGl0ZW1zW2ldLm5hbWUsaXRlbXNbaV0ucHJpY2UsaXRlbXNbaV0uZGVzY3JpcHRpb24pKTtcblxuICAgICAgICBmcnVpdEp1aWNlSXRlbXMuYXBwZW5kQ2hpbGQoaXRlbXNMaXN0KTtcbiAgICB9XG5cbiAgICBmcnVpdEp1aWNlLmFwcGVuZENoaWxkKGZydWl0SnVpY2VJdGVtcyk7XG5cbnJldHVybiBmcnVpdEp1aWNlO1xufVxuZnVuY3Rpb24gY3JlYXRlSW1hZ2Uoc291cmNlKXtcbiAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGltYWdlLndpZHRoID0gMTUwO1xuICAgIGltYWdlLmhlaWdodCA9IDE1MDtcbiAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKCdpbWFnZScpO1xuICAgIGltYWdlLnNyYyA9IGAuL2ltYWdlcy8ke3NvdXJjZX1gO1xuICAgIGltYWdlLmFsdCA9IGAke3NvdXJjZX0gcGljdHVyZSB3YXMgaGVyZS5gO1xuXG4gICAgcmV0dXJuIGltYWdlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJhZ3JhcGgobmFtZSxwcmljZSxkZXNjcmlwdGlvbikge1xuICAgIGNvbnN0IHBhcmFncmFwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBhcmFncmFwaC5jbGFzc0xpc3QuYWRkKCdwYXJhZ3JhcGgnKTtcblxuICAgIGNvbnN0IG5hbWVBbmRQcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbmFtZUFuZFByaWNlLmNsYXNzTGlzdC5hZGQoJ25hbWVBbmRQcmljZScpO1xuXG4gICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBpdGVtTmFtZS5jbGFzc0xpc3QuYWRkKCduYW1lJyk7XG4gICAgICAgIGl0ZW1OYW1lLnRleHRDb250ZW50ID0gYCR7bmFtZX1gO1xuXG4gICAgICAgIGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgaXRlbVByaWNlLmNsYXNzTGlzdC5hZGQoJ3ByaWNlJyk7XG4gICAgICAgIGl0ZW1QcmljZS50ZXh0Q29udGVudCA9IGAke3ByaWNlfWA7IFxuXG4gICAgY29uc3QgaXRlbURlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGl0ZW1EZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKCdkZXNjcmlwdGlvbicpO1xuICAgIGl0ZW1EZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGAke2Rlc2NyaXB0aW9ufWBcblxuICAgIHBhcmFncmFwaC5hcHBlbmRDaGlsZChuYW1lQW5kUHJpY2UpO1xuICAgIHBhcmFncmFwaC5hcHBlbmRDaGlsZChpdGVtRGVzY3JpcHRpb24pO1xuXG4gICAgbmFtZUFuZFByaWNlLmFwcGVuZENoaWxkKGl0ZW1OYW1lKTtcbiAgICBuYW1lQW5kUHJpY2UuYXBwZW5kQ2hpbGQoaXRlbVByaWNlKTtcblxuICAgIHJldHVybiBwYXJhZ3JhcGg7XG59XG5cbmZ1bmN0aW9uIGxvYWRGcnVpdEp1aWNlKCl7XG4gICAgY29uc3QgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbkNvbnRlbnQnKTtcbiAgICBtYWluQ29udGVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIG1haW5Db250ZW50LmFwcGVuZENoaWxkKGZydWl0SnVpY2UoKSk7XG5cbiAgICByZXR1cm4gbWFpbkNvbnRlbnQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGxvYWRGcnVpdEp1aWNlOyIsImltcG9ydCBsb2FkSWNlZENvZmZlZSBmcm9tIFwiLi9kcmlua01lbnUvaWNlZENvZmZlXCI7XG5pbXBvcnQgbG9hZEhvdENvZmZlZSBmcm9tIFwiLi9kcmlua01lbnUvaG90Q29mZmVcIjtcbmltcG9ydCBsb2FkRnJ1aXRKdWljZSBmcm9tIFwiLi9kcmlua01lbnUvZnJ1aXRKdWljZVwiO1xuXG5mdW5jdGlvbiBkcmlua01lbnUoKXtcbiAgICBjb25zdCBkcmlua01lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkcmlua01lbnUuY2xhc3NMaXN0LmFkZCgnZHJpbmtNZW51Jyk7XG5cblxuICAgIGNvbnN0IG1haW5OYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtYWluTmF2LmNsYXNzTGlzdC5hZGQoJ21haW5OYXYnKTtcblxuICAgIGNvbnN0IGljZWRDb2ZmZWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBpY2VkQ29mZmVlLmNsYXNzTGlzdC5hZGQoJ21haW5OYXZMaXN0Jyk7XG4gICAgaWNlZENvZmZlZS50ZXh0Q29udGVudCA9ICdJY2VkIENvZmZlZSdcblxuICAgICAgICBpY2VkQ29mZmVlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZSk9PntcbiAgICAgICAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnLm1haW5OYXZMaXN0JykpIHJldHVybjtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJ1dHRvbihpY2VkQ29mZmVlKTtcbiAgICAgICAgICAgIGxvYWRJY2VkQ29mZmVlKCk7XG4gICAgICAgIH0pXG5cbiAgICBjb25zdCBob3RDb2ZmZWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBob3RDb2ZmZWUuY2xhc3NMaXN0LmFkZCgnbWFpbk5hdkxpc3QnKTtcbiAgICBob3RDb2ZmZWUudGV4dENvbnRlbnQgPSAnSG90IENvZmZlZSc7XG5cbiAgICAgICAgaG90Q29mZmVlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZSk9PntcbiAgICAgICAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnLm1haW5OYXZMaXN0JykpIHJldHVybjtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJ1dHRvbihob3RDb2ZmZWUpO1xuICAgICAgICAgICAgbG9hZEhvdENvZmZlZSgpO1xuICAgICAgICB9KVxuXG4gICAgY29uc3QgZnJ1aXRKdWljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgZnJ1aXRKdWljZS5jbGFzc0xpc3QuYWRkKCdtYWluTmF2TGlzdCcpO1xuICAgIGZydWl0SnVpY2UudGV4dENvbnRlbnQgPSAnRnJ1aXQgSnVpY2UnO1xuICAgIFxuICAgICAgICBmcnVpdEp1aWNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZSk9PntcbiAgICAgICAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnLm1haW5OYXZMaXN0JykpIHJldHVybjtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJ1dHRvbihmcnVpdEp1aWNlKTtcbiAgICAgICAgICAgIGxvYWRGcnVpdEp1aWNlKCk7XG4gICAgICAgIH0pXG5cbiAgICBjb25zdCBtYWluQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1haW5Db250ZW50LmNsYXNzTGlzdC5hZGQoJ21haW5Db250ZW50Jyk7XG5cbiAgICBkcmlua01lbnUuYXBwZW5kQ2hpbGQobWFpbk5hdik7XG4gICAgZHJpbmtNZW51LmFwcGVuZENoaWxkKG1haW5Db250ZW50KTtcblxuICAgIG1haW5OYXYuYXBwZW5kQ2hpbGQoaWNlZENvZmZlZSk7XG4gICAgbWFpbk5hdi5hcHBlbmRDaGlsZChob3RDb2ZmZWUpO1xuICAgIG1haW5OYXYuYXBwZW5kQ2hpbGQoZnJ1aXRKdWljZSk7XG5cbiAgICByZXR1cm4gZHJpbmtNZW51O1xufVxuXG5mdW5jdGlvbiBzZXRBY3RpdmVCdXR0b24oYnV0dG9uKXtcbiAgICBjb25zdCBuYXZMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1haW5OYXZMaXN0Jyk7XG4gIFxuICAgIG5hdkxpc3QuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgaWYoYnV0dG9uICE9PSB0aGlzKXtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgfVxuXG5mdW5jdGlvbiBsb2FkRHJpbmtNZW51KCl7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJyk7XG4gICAgbWFpbi50ZXh0Q29udGVudCA9ICcnO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQoZHJpbmtNZW51KCkpO1xuXG4gICAgc2V0QWN0aXZlQnV0dG9uKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluTmF2TGlzdCcpKTtcbiAgICBsb2FkSWNlZENvZmZlZSgpO1xufVxuZXhwb3J0IGRlZmF1bHQgbG9hZERyaW5rTWVudTsiLCJpbXBvcnQgbG9hZFNwZWNpYWxJdGVtIGZyb20gXCIuL3NwZWNpYWxJdGVtXCI7XG5pbXBvcnQgbG9hZERyaW5rTWVudSBmcm9tIFwiLi9kcmlua01lbnVcIjtcblxuZnVuY3Rpb24gY3JlYXRlSGVhZGVyKCl7XG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2hlYWRlcicpO1xuXG4gICAgaGVhZGVyLmFwcGVuZENoaWxkKGNyZWF0ZU5hdigpKTtcbiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoY3JlYXRlTWFpbigpKTtcblxuICAgIHJldHVybiBoZWFkZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVOYXYoKXtcbmNvbnN0IG5hdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xubmF2LmNsYXNzTGlzdC5hZGQoJ25hdicpO1xuXG5jb25zdCBuYXZMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5uYXZMaXN0LmNsYXNzTGlzdC5hZGQoJ25hdkxpc3QnKTtcblxuY29uc3QgbmF2SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5uYXZIZWFkZXIuY2xhc3NMaXN0LmFkZCgnbmF2SGVhZGVyJyk7XG5uYXZIZWFkZXIudGV4dENvbnRlbnQgPSAnTWFkZHlzIENhZmUnXG5cbmNvbnN0IG5hdkl0ZW1zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5uYXZJdGVtcy5jbGFzc0xpc3QuYWRkKCduYXZJdGVtcycpO1xuXG5jb25zdCBkcmlua01lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbmRyaW5rTWVudS5jbGFzc0xpc3QuYWRkKCduYXZMaXN0Jyk7XG5kcmlua01lbnUudGV4dENvbnRlbnQgPSAnRHJpbmsgTWVudSc7XG5cbiAgICBkcmlua01lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKSA9PntcbiAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuICAgICAgICBzZXRBY3RpdmVCdXR0b24oZHJpbmtNZW51KTtcbiAgICAgICAgbG9hZERyaW5rTWVudSgpO1xuICAgIH0pXG5cbmNvbnN0IGFib3V0VXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbmFib3V0VXMuY2xhc3NMaXN0LmFkZCgnbmF2TGlzdCcpO1xuYWJvdXRVcy50ZXh0Q29udGVudCA9ICdBYm91dCBVcyc7XG5cbiAgICAvLyBhYm91dFVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZSk9PntcbiAgICAvLyAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuICAgIC8vICAgICBzZXRBY3RpdmVCdXR0b24oYWJvdXRVcyk7XG4gICAgLy8gICAgIGxvYWRBYm91dFVzKCk7XG4gICAgLy8gfSlcblxuY29uc3Qgc3BlY2lhbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbnNwZWNpYWxJdGVtLmNsYXNzTGlzdC5hZGQoJ25hdkxpc3QnKTtcbnNwZWNpYWxJdGVtLnRleHRDb250ZW50ID0gJ1NwZWNpYWwgSXRlbXMnO1xuXG4gICAgc3BlY2lhbEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKSA9PntcbiAgICAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuICAgICAgICBzZXRBY3RpdmVCdXR0b24oc3BlY2lhbEl0ZW0pO1xuICAgICAgICBsb2FkU3BlY2lhbEl0ZW0oKTtcbiAgICB9KVxuXG5jb25zdCBjb250YWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5jb250YWN0LmNsYXNzTGlzdC5hZGQoJ25hdkxpc3QnKTtcbmNvbnRhY3QudGV4dENvbnRlbnQgPSAnQ29udGFjdCc7XG5cbiAgICAvLyBjb250YWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZSk9PntcbiAgICAvLyAgICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuICAgIC8vICAgICBzZXRBY3RpdmVCdXR0b24oY29udGFjdCk7XG4gICAgLy8gICAgIGxvYWRDb250YWN0KCk7XG4gICAgLy8gfSlcblxubmF2LmFwcGVuZENoaWxkKG5hdkxpc3QpO1xuXG5uYXZMaXN0LmFwcGVuZENoaWxkKG5hdkhlYWRlcilcbm5hdkxpc3QuYXBwZW5kQ2hpbGQobmF2SXRlbXMpO1xuXG5uYXZJdGVtcy5hcHBlbmRDaGlsZChkcmlua01lbnUpO1xubmF2SXRlbXMuYXBwZW5kQ2hpbGQoYWJvdXRVcyk7XG5uYXZJdGVtcy5hcHBlbmRDaGlsZChzcGVjaWFsSXRlbSk7XG5uYXZJdGVtcy5hcHBlbmRDaGlsZChjb250YWN0KTtcblxucmV0dXJuIG5hdjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU1haW4oKXtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKCdtYWluJyk7XG5cbnJldHVybiBtYWluO1xufVxuXG5mdW5jdGlvbiBzZXRBY3RpdmVCdXR0b24oYnV0dG9uKXtcbiAgICBjb25zdCBuYXZMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdkxpc3QnKTtcbiAgXG4gICAgbmF2TGlzdC5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICBpZihidXR0b24gIT09IHRoaXMpe1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9XG5cbmZ1bmN0aW9uIGNyZWF0ZUZvb3Rlcigpe1xuY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5mb290ZXIuY2xhc3NMaXN0LmFkZCgnZm9vdGVyJyk7XG5mb290ZXIudGV4dENvbnRlbnQgPSAnVGhpcyBpcyBmb290ZXIuJztcblxucmV0dXJuIGZvb3Rlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUltYWdlKCl7XG5cbn1cbmZ1bmN0aW9uIHNldEFjdGl2ZShidXR0b24pe1xuICAgIFxufVxuXG5mdW5jdGlvbiBsb2FkSW5pdGlhbFdlYnNpdGUoKXtcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcbiAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnQnKTtcblxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlSGVhZGVyKCkpO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlRm9vdGVyKCkpO1xuXG4gICAgc2V0QWN0aXZlQnV0dG9uKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZMaXN0JykpO1xuICAgIGxvYWREcmlua01lbnUoKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGxvYWRJbml0aWFsV2Vic2l0ZTsgIiwiaW1wb3J0IGxvYWRJbml0aWFsV2Vic2l0ZSBmcm9tICcuL2luaXRpYWxXZWJzaXRlJztcbmxvYWRJbml0aWFsV2Vic2l0ZSgpOyJdLCJuYW1lcyI6WyJjcmVhdGVJbWFnZSIsInNvdXJjZSIsImltYWdlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzcmMiLCJhbHQiLCJjcmVhdGVQYXJhZ3JhcGgiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwYXJhZ3JhcGgiLCJpdGVtTmFtZSIsInRleHRDb250ZW50IiwiaXRlbURlc2NyaXB0aW9uIiwiYXBwZW5kQ2hpbGQiLCJwcmljZSIsIm5hbWVBbmRQcmljZSIsIml0ZW1QcmljZSIsIm1haW5Db250ZW50IiwicXVlcnlTZWxlY3RvciIsImljZWRDb2ZmZWUiLCJpY2VkQ29mZmVlSXRlbXMiLCJpdGVtcyIsImkiLCJsZW5ndGgiLCJpdGVtc0xpc3QiLCJzZXRBY3RpdmVCdXR0b24iLCJidXR0b24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInRoaXMiLCJyZW1vdmUiLCJtYWluIiwiZHJpbmtNZW51IiwibWFpbk5hdiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJob3RDb2ZmZWUiLCJob3RDb2ZmZWVJdGVtcyIsImZydWl0SnVpY2UiLCJmcnVpdEp1aWNlSXRlbXMiLCJjcmVhdGVIZWFkZXIiLCJoZWFkZXIiLCJuYXYiLCJuYXZMaXN0IiwibmF2SGVhZGVyIiwibmF2SXRlbXMiLCJhYm91dFVzIiwic3BlY2lhbEl0ZW0iLCJzcGVjaWFsTGlzdCIsImNvbnRhY3QiLCJjcmVhdGVOYXYiLCJjcmVhdGVNYWluIiwiY29udGVudCIsImZvb3RlciIsImNyZWF0ZUZvb3RlciJdLCJzb3VyY2VSb290IjoiIn0=